<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
  <mapper namespace="com.hyun.mapper.MemberMapper">
   
  	
  	<select id="idcheck" parameterType="String" resultType="String">
  		SELECT MBSP_ID FROM MBSP_TBL WHERE MBSP_ID = #{mbsp_id}
  	</select>
  	
	<insert id="join" parameterType="com.hyun.domain.MemberVO">
  	 	INSERT iNTO MBSP_TBL(MBSP_ID, MBSP_NAME, MBSP_EMAIL, MBSP_PASSWORD, MBSP_ZIPCODE, MBSP_ADDR, MBSP_DEADDR, MBSP_PHONE)
		VALUES(#{mbsp_id},#{mbsp_name},#{mbsp_email},#{mbsp_password},#{mbsp_zipcode},#{mbsp_addr},#{mbsp_deaddr},#{mbsp_phone})
  	</insert>
  	
  	<select id="login" parameterType="String" resultType="com.hyun.domain.MemberVO">
  	SELECT
 		MBSP_DEADDR,
 		MBSP_ID,
 		MBSP_EMAIL,
 		MBSP_NAME,
 		MBSP_PASSWORD,
 		MBSP_PHONE,
 		MBSP_ADDR,
 		MBSP_ZIPCODE,
 		MBSP_PASSWORD,
 		MBSP_LASTLOGIN,
 		MBSP_POINT,
 		MBSP_DATESUB,
 		MBSP_UPDATEDATE
 		    FROM
 		    	MBSP_TBL
 		    WHERE
 		    	MBSP_ID = #{mbsp_id}	  		  		  		  		  		
  	</select>
  	  <update id="modify" parameterType="com.hyun.domain.MemberVO">
         UPDATE MBSP_TBL
        SET
         MBSP_EMAIL = #{mbsp_email},
         MBSP_ZIPCODE = #{mbsp_zipcode}, 
         MBSP_ADDR = #{mbsp_addr}, 
         MBSP_DEADDR = #{mbsp_deaddr}, 
         MBSP_PHONE = #{mbsp_phone},
         MBSP_UPDATEDATE = sysdate
        WHERE
         MBSP_ID = #{mbsp_id}
     </update>
     <update id="loginTimeUpdate" parameterType="String">
     	UPDATE MBSP_TBL
     	SET
     	 	MBSP_LASTLOGIN = sysdate
     	WHERE
     		MBSP_ID = #{mbsp_id}
     </update>
     <delete id="delete" parameterType="String">
     
     	DELETE FROM
     		MBSP_TBL
        WHERE
     		MBSP_ID = #{mbsp_id}
     </delete>
     <select id="memberIdSearch" parameterType="com.hyun.domain.MemberVO" resultType="com.hyun.domain.MemberVO">
<![CDATA[
    select
        mbsp_id, mbsp_name, mbsp_email, mbsp_password, mbsp_zipcode, mbsp_addr, mbsp_deaddr, mbsp_phone, mbsp_point, mbsp_lastlogin, mbsp_datesub, mbsp_updatedate
    from
        MBSP_TBL
    where
        mbsp_name = #{mbsp_name}
    and
        mbsp_phone = #{mbsp_phone}
]]>    
</select>
  </mapper>